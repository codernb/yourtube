<ons-page>
    <div class="search-bar youtube-toolbar">
        <form ng-submit="search(true)">
            <input type="search" class="search-input" placeholder="Search for videos in YouTube" ng-model="query" ng-change="search(true)">
        </form>
    </div>
    <ons-list class="after-search-bar">
        <ons-list-item modifier="tappable" class="list-item-container" ng-repeat="video in results | orderBy: 'title'" ng-click="enterVideo(video)">
            <ons-row>
                <ons-col width="95px">
                    <img class="thumbnail" ng-src="{{ video.thumbnail }}">
                </ons-col>
                <ons-col>
                    <div class="title">
                        {{ video.title }}
                    </div>
                    <div class="user">
                        <ons-icon icon="fa fa-user"><span style="font-size: 12px"> {{ video.author ? video.author : "Anonymous" }}</span></ons-icon>
                    </div>
                    <div class="desc">
                        {{ video.description }}
                    </div>
                </ons-col>
                <ons-col width="40px"></ons-col>
            </ons-row>
        </ons-list-item>
    </ons-list>
    <p class="after-list" ng-show="results.length === 0">
        <span ng-hide="loading">{{ label }}</span>
        <span ng-show="loading"><ons-icon icon="fa fa-spinner" size="22px" spin="true"></ons-icon></span>
    </p>
    <p class="after-list" ng-show="results.length > 0 && nextPageToken !== ''">
        <ons-button var="loadMoreButton" style="background-color: #e52d27" ng-click="loadMoreButton.startSpin(); loadMoreButton.setDisabled(true); search(false)">Load more videos</ons-button>
    </p>
</ons-page>
